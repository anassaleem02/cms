<div class="admin-layout" [class.sidebar-collapsed]="!isSidebarOpen">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <a routerLink="/admin/dashboard" class="sidebar-logo">
        <svg width="28" height="28" viewBox="0 0 32 32" fill="none">
          <circle cx="16" cy="16" r="16" fill="url(#adminLogoGrad)"/>
          <path d="M16 6L20 14H24L18 26L14 18H10L16 6Z" fill="white"/>
          <defs>
            <linearGradient id="adminLogoGrad" x1="0" y1="0" x2="32" y2="32" gradientUnits="userSpaceOnUse">
              <stop stop-color="#10B981"/><stop offset="1" stop-color="#047857"/>
            </linearGradient>
          </defs>
        </svg>
        <div class="sidebar-logo-text">
          <span class="sidebar-logo-name">FM's Power</span>
          <span class="sidebar-logo-tag">Admin Panel</span>
        </div>
      </a>
    </div>

    <nav class="sidebar-nav">
      <a *ngFor="let item of navItems"
         [routerLink]="item.url"
         routerLinkActive="active"
         class="sidebar-nav-item"
         [attr.title]="item.label">
        <!-- Icons as inline SVG -->
        <span class="nav-icon" [innerHTML]="getSvgIcon(item.icon)"></span>
        <span class="nav-label">{{ item.label }}</span>
      </a>
    </nav>

    <div class="sidebar-footer">
      <a routerLink="/" target="_blank" class="sidebar-nav-item">
        <span class="nav-icon">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
        </span>
        <span class="nav-label">View Site</span>
      </a>
    </div>
  </aside>

  <!-- Main Content -->
  <div class="admin-main">
    <!-- Top Header -->
    <header class="admin-header">
      <button class="toggle-sidebar" (click)="toggleSidebar()" aria-label="Toggle sidebar">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="3" y1="12" x2="21" y2="12"/>
          <line x1="3" y1="6" x2="21" y2="6"/>
          <line x1="3" y1="18" x2="21" y2="18"/>
        </svg>
      </button>

      <div class="admin-header-right">
        <a routerLink="/" target="_blank" class="btn btn-outline btn-sm">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
          View Site
        </a>
        <div class="admin-user">
          <div class="user-avatar">{{ getInitials() }}</div>
          <div class="user-info hide-mobile">
            <span class="user-name">{{ currentUser?.fullName || 'Admin' }}</span>
            <span class="user-role">{{ currentUser?.role || 'Administrator' }}</span>
          </div>
        </div>
        <button class="btn btn-outline btn-sm logout-btn" (click)="logout()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
          Logout
        </button>
      </div>
    </header>

    <!-- Content Area -->
    <main class="admin-content">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>
